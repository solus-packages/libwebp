name       : libwebp
version    : 0.5.1
release    : 6
source     :
    - https://github.com/webmproject/libwebp/archive/v0.5.1.tar.gz : d355b88f028ceb5322d158ac8a2bb55f8f6b3218883280e02790ae4ff2f1556c
homepage   : https://developers.google.com/speed/webp/
license    : BSD-2-Clause
component  : multimedia.codecs
summary    : A new image format for the web
description: |
    WebP is a new image format that provides lossless and lossy compression for images on the web. WebP lossless images are 26% smaller in size compared to PNGs. WebP lossy images are 25-34% smaller in size compared to JPEG images at equivalent SSIM index. WebP supports lossless transparency (also known as alpha channel) with just 22% additional bytes. Transparency is also supported with lossy compression and typically provides 3x smaller file sizes compared to PNG when lossy compression is acceptable for the red/green/blue color channels.
builddeps  :
    - pkgconfig32(zlib)
    - pkgconfig(libpng15)
    - pkgconfig32(libpng15)
    - pkgconfig(libtiff-4)
    - pkgconfig32(libtiff-4)
    - freeglut-32bit-devel
    - freeglut-devel
    - libjpeg-turbo-devel
    - libjpeg-turbo-32bit-devel
    - glibc-32bit-devel
    - libgcc-32bit
patterns   :
    - devel : /usr/share/man
emul32     : yes
setup      : |
    #Upstreamed patch
    %patch -p1 < $pkgfiles/security/cve-2016-9085.patch
    %reconfigure --prefix=/usr --disable-static --enable-everything
build      : |
    %make
install    : |
    %make_install
